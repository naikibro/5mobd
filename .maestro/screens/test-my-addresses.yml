appId: com.pacificknowledge.pereoonews
env:
  MAESTRO_TEST_EMAIL: ${MAESTRO_TEST_EMAIL || "testuser@pacificknowledge.dev"}
  MAESTRO_TEST_PASSWORD: ${MAESTRO_TEST_PASSWORD || "ChangeMe1234*"}
  EXPO_PUBLIC_TEST_MODE: "true"
---
- launchApp
- assertVisible: "Connexion"
- assertVisible: "Email"
- assertVisible: "Mot de passe"
- assertVisible: "Se connecter"
- assertVisible: "S'inscrire"

- waitForAnimationToEnd
- tapOn:
    id: "login-email-input"
- inputText: ${MAESTRO_TEST_EMAIL}
- tapOn:
    id: "login-password-input"
- inputText: ${MAESTRO_TEST_PASSWORD}
- tapOn:
    id: "login-button"

# Navigate to My Addresses screen
- tapOn:
    id: "my-addresses-tab"
- waitForAnimationToEnd

# Test My Addresses screen functionality
- assertVisible: ".*Mes adresses.*"
- assertVisible: ".*Toutes.*"
- assertVisible: ".*Publiques.*"
- assertVisible: ".*Privées.*"
- assertVisible: ".*Trouvez ici les adresses que vous avez créées.*"
- assertVisible:
    id: "my-addresses-search-input"

# Logout
- tapOn:
    id: "profile-tab"
- waitForAnimationToEnd
- scroll
- tapOn:
    id: "logout-button"
- tapOn: "Déconnexion"
- waitForAnimationToEnd
